---
import { getCollection } from 'astro:content';
import ContentList from '../../components/content/ContentList.astro';
import ListLayout from '../../layouts/ListLayout.astro';
import { getEntrySlugs } from '../../services/content-slug';

const quizzes = (await getCollection('quiz')).sort(
  (a, b) =>
    new Date(String(b.data.date ?? '')).getTime() -
    new Date(String(a.data.date ?? '')).getTime()
);

const quizSlugMap = getEntrySlugs(quizzes);
---

<ListLayout
  pageTitle="Quiz - Bridge mit Alexander"
  title="Bridge Quiz"
  intro="Teste Dein Bridge-Wissen mit unseren Fragen"
  maxWidth="max-w-3xl"
  isEmpty={quizzes.length === 0}
>
  <ContentList items={quizzes} slugMap={quizSlugMap} showArrow={true} />
</ListLayout>
